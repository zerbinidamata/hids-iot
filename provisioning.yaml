---
# YAML documents begin with the document separator ---

# The minus in YAML this indicates a list item.  
# The playbook contains a list 
# of plays, with each play being a dictionary
-
 
  # Hosts: where our play will run and options it will run with
  hosts: gateways
  user: root
  become: true

  # Vars: variables that will apply to the play, on all target systems

  # Tasks: the list of tasks that will be executed within the playbook
  tasks:
    # This can be changed to a script command 
    # if the hids_client is fetched from a remote
    - name: Copy HIDS Client 
      #copy 
      synchronize:
        src: ./hids_client/
        dest: /home/hids_client
        rsync_opts:
          - "--exclude=.git"

    - name: Install HIDS dependencies
      command: bash /home/hids_client/install.sh
      async: 10000

    
    - name: Run HIDS
      command: bash /home/hids_client/run.sh
      async: 10000



  # Handlers: the list of handlers that are 
  # executed as a notify key from a task

  # Roles: list of roles to be imported into the play

# Three dots indicate the end of a YAML document
...